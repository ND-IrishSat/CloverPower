<!DOCTYPE html>
<html>
<head>
    <title>Register Viewer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="CloverPower/NDIS-Icon-gold.png">
    <style type='text/css'>
        body {
          background-color: navy;
        }
        
        h1, h2, p {
          color: gold; /* Adjusted for consistency */
          text-align: center;
        }
        
        p {
            color: red;
        }
      </style>
</head>
<body>

    <h1>I2C Register Data Viewer</h1>
    <p id="SYSADC" value="{{SYSADC}}">{{SYSADC}}</p> <!-- Make sure this ID is used in JavaScript if needed -->
    <script>
      function updateData() {
          fetch('/update')
              .then(response => response.json())
              .then(data => {
                  document.getElementById('reg_name').textContent = data.reg_name;
                  document.getElementById('binary_value').textContent = data.binary_value;
                  document.getElementById('description').textContent = data.description;
              });
      }
      setInterval(updateData, 2000); // Adjusted to 2000 ms for clarity
    </script>
    <form action="/" method="post">
        <select class="form-select" aria-label="Default select example" name="register">
            {% for reg_addr, reg_info in registers.items() %}
                <option value="{{ reg_addr }},{{ reg_info[1] }}">{{ reg_info[0] }}</option>
            {% endfor %}
        </select>
        <button type="submit">View Data</button>
    </form>
    <div>
      <h2 id="reg_name">Register Name</h2> <!-- Ensure this is h2 to match your style -->
      <p id="binary_value">Binary Value</p>
      <p id="description">Description</p>
    </div>
</body>
</html>